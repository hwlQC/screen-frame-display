import{S as is,P as Nn,W as os,x as cs,y as us,z as k,A as ls,J as fe,G as we,O as fs,e as hs,K as ds,N as et,Q as Fn,X as Dn,Y as de,Z as xe,C as U,_ as L,$ as ps,a0 as gs,n as he,a1 as P,f as ut,M as Ee,V as q,a2 as ms,a3 as vs,o as Gn,T as ys,a4 as _s,u as pe,a5 as As,a6 as Bn,a7 as kn,R as tt,a8 as Ts,a9 as Xe,aa as bs,ab as Un,D as $s,ac as ws,t as Hn,ad as Ss,k as xs,ae as Es,af as Rs,ag as Os,v as Is,l as Ls,ah as Cs,ai as Ms,aj as Ps,ak as Ns,al as jn,am as Ot,an as Kn,ao as Fs,ap as Ds,aq as Gs,ar as Bs,as as ks,at as Us,au as Hs,av as js,b as Ks,aw as It,ax as Lt,ay as Ct,az as Mt,B as Vs,d as Xs,aA as Ws}from"./OrbitControls-D1nPELOQ.js";import{_ as Vn,r as qs,o as zs,a as Xn,c as Wn,g as Ys}from"./index-qFlefuCb.js";var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qs=typeof be=="object"&&be&&be.Object===Object&&be,qn=Qs,Zs=qn,Js=typeof self=="object"&&self&&self.Object===Object&&self,ea=Zs||Js||Function("return this")(),C=ea,ta=C,na=ta.Symbol,Y=na,Pt=Y,zn=Object.prototype,ra=zn.hasOwnProperty,sa=zn.toString,ue=Pt?Pt.toStringTag:void 0;function aa(t){var e=ra.call(t,ue),n=t[ue];try{t[ue]=void 0;var r=!0}catch{}var s=sa.call(t);return r&&(e?t[ue]=n:delete t[ue]),s}var ia=aa,oa=Object.prototype,ca=oa.toString;function ua(t){return ca.call(t)}var la=ua,Nt=Y,fa=ia,ha=la,da="[object Null]",pa="[object Undefined]",Ft=Nt?Nt.toStringTag:void 0;function ga(t){return t==null?t===void 0?pa:da:Ft&&Ft in Object(t)?fa(t):ha(t)}var Q=ga;function ma(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var E=ma,va=Q,ya=E,_a="[object AsyncFunction]",Aa="[object Function]",Ta="[object GeneratorFunction]",ba="[object Proxy]";function $a(t){if(!ya(t))return!1;var e=va(t);return e==Aa||e==Ta||e==_a||e==ba}var Z=$a,wa=C,Sa=wa["__core-js_shared__"],xa=Sa,We=xa,Dt=function(){var t=/[^.]+$/.exec(We&&We.keys&&We.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ea(t){return!!Dt&&Dt in t}var Ra=Ea,Oa=Function.prototype,Ia=Oa.toString;function La(t){if(t!=null){try{return Ia.call(t)}catch{}try{return t+""}catch{}}return""}var Yn=La,Ca=Z,Ma=Ra,Pa=E,Na=Yn,Fa=/[\\^$.*+?()[\]{}|]/g,Da=/^\[object .+?Constructor\]$/,Ga=Function.prototype,Ba=Object.prototype,ka=Ga.toString,Ua=Ba.hasOwnProperty,Ha=RegExp("^"+ka.call(Ua).replace(Fa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ja(t){if(!Pa(t)||Ma(t))return!1;var e=Ca(t)?Ha:Da;return e.test(Na(t))}var Ka=ja;function Va(t,e){return t==null?void 0:t[e]}var Xa=Va,Wa=Ka,qa=Xa;function za(t,e){var n=qa(t,e);return Wa(n)?n:void 0}var W=za,Ya=W,Qa=function(){try{var t=Ya(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Qn=Qa,Gt=Qn;function Za(t,e,n){e=="__proto__"&&Gt?Gt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ge=Za;function Ja(t,e){return t===e||t!==t&&e!==e}var J=Ja,ei=ge,ti=J,ni=Object.prototype,ri=ni.hasOwnProperty;function si(t,e,n){var r=t[e];(!(ri.call(t,e)&&ti(r,n))||n===void 0&&!(e in t))&&ei(t,e,n)}var Ce=si,ai=Ce,ii=ge;function oi(t,e,n,r){var s=!n;n||(n={});for(var a=-1,i=e.length;++a<i;){var o=e[a],c=r?r(n[o],t[o],o,n,t):void 0;c===void 0&&(c=t[o]),s?ii(n,o,c):ai(n,o,c)}return n}var M=oi;function ci(t){return t}var me=ci;function ui(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lt=ui,li=lt,Bt=Math.max;function fi(t,e,n){return e=Bt(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,a=Bt(r.length-e,0),i=Array(a);++s<a;)i[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(i),li(t,this,o)}}var Zn=fi;function hi(t){return function(){return t}}var Jn=hi,di=Jn,kt=Qn,pi=me,gi=kt?function(t,e){return kt(t,"toString",{configurable:!0,enumerable:!1,value:di(e),writable:!0})}:pi,mi=gi,vi=800,yi=16,_i=Date.now;function Ai(t){var e=0,n=0;return function(){var r=_i(),s=yi-(r-n);if(n=r,s>0){if(++e>=vi)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ti=Ai,bi=mi,$i=Ti,wi=$i(bi),er=wi,Si=me,xi=Zn,Ei=er;function Ri(t,e){return Ei(xi(t,e,Si),t+"")}var Me=Ri,Oi=9007199254740991;function Ii(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Oi}var ft=Ii,Li=Z,Ci=ft;function Mi(t){return t!=null&&Ci(t.length)&&!Li(t)}var ve=Mi,Pi=9007199254740991,Ni=/^(?:0|[1-9]\d*)$/;function Fi(t,e){var n=typeof t;return e=e??Pi,!!e&&(n=="number"||n!="symbol"&&Ni.test(t))&&t>-1&&t%1==0&&t<e}var Pe=Fi,Di=J,Gi=ve,Bi=Pe,ki=E;function Ui(t,e,n){if(!ki(n))return!1;var r=typeof e;return(r=="number"?Gi(n)&&Bi(e,n.length):r=="string"&&e in n)?Di(n[e],t):!1}var tr=Ui,Hi=Me,ji=tr;function Ki(t){return Hi(function(e,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,i&&ji(n[0],n[1],i)&&(a=s<3?void 0:a,s=1),e=Object(e);++r<s;){var o=n[r];o&&t(e,o,r,a)}return e})}var ee=Ki,Vi=Object.prototype;function Xi(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Vi;return t===n}var Ne=Xi;function Wi(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qi=Wi;function zi(t){return t!=null&&typeof t=="object"}var N=zi,Yi=Q,Qi=N,Zi="[object Arguments]";function Ji(t){return Qi(t)&&Yi(t)==Zi}var eo=Ji,Ut=eo,to=N,nr=Object.prototype,no=nr.hasOwnProperty,ro=nr.propertyIsEnumerable,so=Ut(function(){return arguments}())?Ut:function(t){return to(t)&&no.call(t,"callee")&&!ro.call(t,"callee")},Fe=so,ao=Array.isArray,R=ao,Re={exports:{}};function io(){return!1}var oo=io;Re.exports;(function(t,e){var n=C,r=oo,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||r;t.exports=u})(Re,Re.exports);var ye=Re.exports,co=Q,uo=ft,lo=N,fo="[object Arguments]",ho="[object Array]",po="[object Boolean]",go="[object Date]",mo="[object Error]",vo="[object Function]",yo="[object Map]",_o="[object Number]",Ao="[object Object]",To="[object RegExp]",bo="[object Set]",$o="[object String]",wo="[object WeakMap]",So="[object ArrayBuffer]",xo="[object DataView]",Eo="[object Float32Array]",Ro="[object Float64Array]",Oo="[object Int8Array]",Io="[object Int16Array]",Lo="[object Int32Array]",Co="[object Uint8Array]",Mo="[object Uint8ClampedArray]",Po="[object Uint16Array]",No="[object Uint32Array]",$={};$[Eo]=$[Ro]=$[Oo]=$[Io]=$[Lo]=$[Co]=$[Mo]=$[Po]=$[No]=!0;$[fo]=$[ho]=$[So]=$[po]=$[xo]=$[go]=$[mo]=$[vo]=$[yo]=$[_o]=$[Ao]=$[To]=$[bo]=$[$o]=$[wo]=!1;function Fo(t){return lo(t)&&uo(t.length)&&!!$[co(t)]}var Do=Fo;function Go(t){return function(e){return t(e)}}var ht=Go,Oe={exports:{}};Oe.exports;(function(t,e){var n=qn,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,i=a&&n.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=o})(Oe,Oe.exports);var dt=Oe.exports,Bo=Do,ko=ht,Ht=dt,jt=Ht&&Ht.isTypedArray,Uo=jt?ko(jt):Bo,De=Uo,Ho=qi,jo=Fe,Ko=R,Vo=ye,Xo=Pe,Wo=De,qo=Object.prototype,zo=qo.hasOwnProperty;function Yo(t,e){var n=Ko(t),r=!n&&jo(t),s=!n&&!r&&Vo(t),a=!n&&!r&&!s&&Wo(t),i=n||r||s||a,o=i?Ho(t.length,String):[],c=o.length;for(var u in t)(e||zo.call(t,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xo(u,c)))&&o.push(u);return o}var rr=Yo;function Qo(t,e){return function(n){return t(e(n))}}var sr=Qo,Zo=sr,Jo=Zo(Object.keys,Object),ec=Jo,tc=Ne,nc=ec,rc=Object.prototype,sc=rc.hasOwnProperty;function ac(t){if(!tc(t))return nc(t);var e=[];for(var n in Object(t))sc.call(t,n)&&n!="constructor"&&e.push(n);return e}var ic=ac,oc=rr,cc=ic,uc=ve;function lc(t){return uc(t)?oc(t):cc(t)}var O=lc,fc=Ce,hc=M,dc=ee,pc=ve,gc=Ne,mc=O,vc=Object.prototype,yc=vc.hasOwnProperty,_c=dc(function(t,e){if(gc(e)||pc(e)){hc(e,mc(e),t);return}for(var n in e)yc.call(e,n)&&fc(t,n,e[n])}),Ac=_c;function Tc(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var bc=Tc,$c=E,wc=Ne,Sc=bc,xc=Object.prototype,Ec=xc.hasOwnProperty;function Rc(t){if(!$c(t))return Sc(t);var e=wc(t),n=[];for(var r in t)r=="constructor"&&(e||!Ec.call(t,r))||n.push(r);return n}var Oc=Rc,Ic=rr,Lc=Oc,Cc=ve;function Mc(t){return Cc(t)?Ic(t,!0):Lc(t)}var S=Mc,Pc=M,Nc=ee,Fc=S,Dc=Nc(function(t,e){Pc(e,Fc(e),t)}),ar=Dc,Gc=M,Bc=ee,kc=S,Uc=Bc(function(t,e,n,r){Gc(e,kc(e),t,r)}),ir=Uc,Hc=M,jc=ee,Kc=O,Vc=jc(function(t,e,n,r){Hc(e,Kc(e),t,r)}),Xc=Vc,Wc=Q,qc=N,zc="[object Symbol]";function Yc(t){return typeof t=="symbol"||qc(t)&&Wc(t)==zc}var pt=Yc,Qc=R,Zc=pt,Jc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eu=/^\w*$/;function tu(t,e){if(Qc(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Zc(t)?!0:eu.test(t)||!Jc.test(t)||e!=null&&t in Object(e)}var gt=tu,nu=W,ru=nu(Object,"create"),Ge=ru,Kt=Ge;function su(){this.__data__=Kt?Kt(null):{},this.size=0}var au=su;function iu(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ou=iu,cu=Ge,uu="__lodash_hash_undefined__",lu=Object.prototype,fu=lu.hasOwnProperty;function hu(t){var e=this.__data__;if(cu){var n=e[t];return n===uu?void 0:n}return fu.call(e,t)?e[t]:void 0}var du=hu,pu=Ge,gu=Object.prototype,mu=gu.hasOwnProperty;function vu(t){var e=this.__data__;return pu?e[t]!==void 0:mu.call(e,t)}var yu=vu,_u=Ge,Au="__lodash_hash_undefined__";function Tu(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_u&&e===void 0?Au:e,this}var bu=Tu,$u=au,wu=ou,Su=du,xu=yu,Eu=bu;function te(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}te.prototype.clear=$u;te.prototype.delete=wu;te.prototype.get=Su;te.prototype.has=xu;te.prototype.set=Eu;var Ru=te;function Ou(){this.__data__=[],this.size=0}var Iu=Ou,Lu=J;function Cu(t,e){for(var n=t.length;n--;)if(Lu(t[n][0],e))return n;return-1}var Be=Cu,Mu=Be,Pu=Array.prototype,Nu=Pu.splice;function Fu(t){var e=this.__data__,n=Mu(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Nu.call(e,n,1),--this.size,!0}var Du=Fu,Gu=Be;function Bu(t){var e=this.__data__,n=Gu(e,t);return n<0?void 0:e[n][1]}var ku=Bu,Uu=Be;function Hu(t){return Uu(this.__data__,t)>-1}var ju=Hu,Ku=Be;function Vu(t,e){var n=this.__data__,r=Ku(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Xu=Vu,Wu=Iu,qu=Du,zu=ku,Yu=ju,Qu=Xu;function ne(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ne.prototype.clear=Wu;ne.prototype.delete=qu;ne.prototype.get=zu;ne.prototype.has=Yu;ne.prototype.set=Qu;var ke=ne,Zu=W,Ju=C,el=Zu(Ju,"Map"),mt=el,Vt=Ru,tl=ke,nl=mt;function rl(){this.size=0,this.__data__={hash:new Vt,map:new(nl||tl),string:new Vt}}var sl=rl;function al(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var il=al,ol=il;function cl(t,e){var n=t.__data__;return ol(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ue=cl,ul=Ue;function ll(t){var e=ul(this,t).delete(t);return this.size-=e?1:0,e}var fl=ll,hl=Ue;function dl(t){return hl(this,t).get(t)}var pl=dl,gl=Ue;function ml(t){return gl(this,t).has(t)}var vl=ml,yl=Ue;function _l(t,e){var n=yl(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Al=_l,Tl=sl,bl=fl,$l=pl,wl=vl,Sl=Al;function re(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}re.prototype.clear=Tl;re.prototype.delete=bl;re.prototype.get=$l;re.prototype.has=wl;re.prototype.set=Sl;var vt=re,or=vt,xl="Expected a function";function yt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xl);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=t.apply(this,r);return n.cache=a.set(s,i)||a,i};return n.cache=new(yt.Cache||or),n}yt.Cache=or;var El=yt,Rl=El,Ol=500;function Il(t){var e=Rl(t,function(r){return n.size===Ol&&n.clear(),r}),n=e.cache;return e}var Ll=Il,Cl=Ll,Ml=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pl=/\\(\\)?/g,Nl=Cl(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ml,function(n,r,s,a){e.push(s?a.replace(Pl,"$1"):r||n)}),e}),Fl=Nl;function Dl(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var _e=Dl,Xt=Y,Gl=_e,Bl=R,kl=pt,Ul=1/0,Wt=Xt?Xt.prototype:void 0,qt=Wt?Wt.toString:void 0;function cr(t){if(typeof t=="string")return t;if(Bl(t))return Gl(t,cr)+"";if(kl(t))return qt?qt.call(t):"";var e=t+"";return e=="0"&&1/t==-Ul?"-0":e}var Hl=cr,jl=Hl;function Kl(t){return t==null?"":jl(t)}var Vl=Kl,Xl=R,Wl=gt,ql=Fl,zl=Vl;function Yl(t,e){return Xl(t)?t:Wl(t,e)?[t]:ql(zl(t))}var H=Yl,Ql=pt,Zl=1/0;function Jl(t){if(typeof t=="string"||Ql(t))return t;var e=t+"";return e=="0"&&1/t==-Zl?"-0":e}var j=Jl,ef=H,tf=j;function nf(t,e){e=ef(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tf(e[n++])];return n&&n==r?t:void 0}var Ae=nf,rf=Ae;function sf(t,e,n){var r=t==null?void 0:rf(t,e);return r===void 0?n:r}var _t=sf,af=_t;function of(t,e){for(var n=-1,r=e.length,s=Array(r),a=t==null;++n<r;)s[n]=a?void 0:af(t,e[n]);return s}var cf=of;function uf(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var At=uf,zt=Y,lf=Fe,ff=R,Yt=zt?zt.isConcatSpreadable:void 0;function hf(t){return ff(t)||lf(t)||!!(Yt&&t&&t[Yt])}var df=hf,pf=At,gf=df;function ur(t,e,n,r,s){var a=-1,i=t.length;for(n||(n=gf),s||(s=[]);++a<i;){var o=t[a];e>0&&n(o)?e>1?ur(o,e-1,n,r,s):pf(s,o):r||(s[s.length]=o)}return s}var mf=ur,vf=mf;function yf(t){var e=t==null?0:t.length;return e?vf(t,1):[]}var _f=yf,Af=_f,Tf=Zn,bf=er;function $f(t){return bf(Tf(t,void 0,Af),t+"")}var Tt=$f,wf=cf,Sf=Tt,xf=Sf(wf),Ef=xf,Rf=M,Of=O;function If(t,e){return t&&Rf(e,Of(e),t)}var lr=If,Lf=E,Qt=Object.create,Cf=function(){function t(){}return function(e){if(!Lf(e))return{};if(Qt)return Qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),bt=Cf,Mf=lr,Pf=bt;function Nf(t,e){var n=Pf(t);return e==null?n:Mf(n,e)}var Ff=Nf,Df=Me,Gf=J,Bf=tr,kf=S,fr=Object.prototype,Uf=fr.hasOwnProperty,Hf=Df(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&Bf(e[0],e[1],s)&&(r=1);++n<r;)for(var a=e[n],i=kf(a),o=-1,c=i.length;++o<c;){var u=i[o],l=t[u];(l===void 0||Gf(l,fr[u])&&!Uf.call(t,u))&&(t[u]=a[u])}return t}),jf=Hf,Kf=ke;function Vf(){this.__data__=new Kf,this.size=0}var Xf=Vf;function Wf(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var qf=Wf;function zf(t){return this.__data__.get(t)}var Yf=zf;function Qf(t){return this.__data__.has(t)}var Zf=Qf,Jf=ke,eh=mt,th=vt,nh=200;function rh(t,e){var n=this.__data__;if(n instanceof Jf){var r=n.__data__;if(!eh||r.length<nh-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new th(r)}return n.set(t,e),this.size=n.size,this}var sh=rh,ah=ke,ih=Xf,oh=qf,ch=Yf,uh=Zf,lh=sh;function se(t){var e=this.__data__=new ah(t);this.size=e.size}se.prototype.clear=ih;se.prototype.delete=oh;se.prototype.get=ch;se.prototype.has=uh;se.prototype.set=lh;var He=se,fh=ge,hh=J;function dh(t,e,n){(n!==void 0&&!hh(t[e],n)||n===void 0&&!(e in t))&&fh(t,e,n)}var hr=dh;function ph(t){return function(e,n,r){for(var s=-1,a=Object(e),i=r(e),o=i.length;o--;){var c=i[t?o:++s];if(n(a[c],c,a)===!1)break}return e}}var dr=ph,gh=dr,mh=gh(),$t=mh,Ie={exports:{}};Ie.exports;(function(t,e){var n=C,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,i=a?n.Buffer:void 0,o=i?i.allocUnsafe:void 0;function c(u,l){if(l)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}t.exports=c})(Ie,Ie.exports);var pr=Ie.exports,vh=C,yh=vh.Uint8Array,gr=yh,Zt=gr;function _h(t){var e=new t.constructor(t.byteLength);return new Zt(e).set(new Zt(t)),e}var wt=_h,Ah=wt;function Th(t,e){var n=e?Ah(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var mr=Th;function bh(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var vr=bh,$h=sr,wh=$h(Object.getPrototypeOf,Object),je=wh,Sh=bt,xh=je,Eh=Ne;function Rh(t){return typeof t.constructor=="function"&&!Eh(t)?Sh(xh(t)):{}}var yr=Rh,Oh=ve,Ih=N;function Lh(t){return Ih(t)&&Oh(t)}var Ch=Lh,Mh=Q,Ph=je,Nh=N,Fh="[object Object]",Dh=Function.prototype,Gh=Object.prototype,_r=Dh.toString,Bh=Gh.hasOwnProperty,kh=_r.call(Object);function Uh(t){if(!Nh(t)||Mh(t)!=Fh)return!1;var e=Ph(t);if(e===null)return!0;var n=Bh.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_r.call(n)==kh}var Ar=Uh;function Hh(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Tr=Hh,jh=M,Kh=S;function Vh(t){return jh(t,Kh(t))}var Xh=Vh,Jt=hr,Wh=pr,qh=mr,zh=vr,Yh=yr,en=Fe,tn=R,Qh=Ch,Zh=ye,Jh=Z,ed=E,td=Ar,nd=De,nn=Tr,rd=Xh;function sd(t,e,n,r,s,a,i){var o=nn(t,n),c=nn(e,n),u=i.get(c);if(u){Jt(t,n,u);return}var l=a?a(o,c,n+"",t,e,i):void 0,f=l===void 0;if(f){var h=tn(c),d=!h&&Zh(c),p=!h&&!d&&nd(c);l=c,h||d||p?tn(o)?l=o:Qh(o)?l=zh(o):d?(f=!1,l=Wh(c,!0)):p?(f=!1,l=qh(c,!0)):l=[]:td(c)||en(c)?(l=o,en(o)?l=rd(o):(!ed(o)||Jh(o))&&(l=Yh(c))):f=!1}f&&(i.set(c,l),s(l,c,r,a,i),i.delete(c)),Jt(t,n,l)}var ad=sd,id=He,od=hr,cd=$t,ud=ad,ld=E,fd=S,hd=Tr;function br(t,e,n,r,s){t!==e&&cd(e,function(a,i){if(s||(s=new id),ld(a))ud(t,e,i,n,br,r,s);else{var o=r?r(hd(t,i),a,i+"",t,e,s):void 0;o===void 0&&(o=a),od(t,i,o)}},fd)}var St=br,dd=St,rn=E;function $r(t,e,n,r,s,a){return rn(t)&&rn(e)&&(a.set(e,t),dd(t,e,void 0,$r,a),a.delete(e)),t}var pd=$r,gd=St,md=ee,vd=md(function(t,e,n,r){gd(t,e,n,r)}),wr=vd,yd=lt,_d=Me,Ad=pd,Td=wr,bd=_d(function(t){return t.push(void 0,Ad),yd(Td,void 0,t)}),$d=bd,wd=_e;function Sd(t,e){return wd(e,function(n){return[n,t[n]]})}var xd=Sd,Ed=W,Rd=C,Od=Ed(Rd,"DataView"),Id=Od,Ld=W,Cd=C,Md=Ld(Cd,"Promise"),Pd=Md,Nd=W,Fd=C,Dd=Nd(Fd,"Set"),Gd=Dd,Bd=W,kd=C,Ud=Bd(kd,"WeakMap"),Hd=Ud,nt=Id,rt=mt,st=Pd,at=Gd,it=Hd,Sr=Q,ae=Yn,sn="[object Map]",jd="[object Object]",an="[object Promise]",on="[object Set]",cn="[object WeakMap]",un="[object DataView]",Kd=ae(nt),Vd=ae(rt),Xd=ae(st),Wd=ae(at),qd=ae(it),X=Sr;(nt&&X(new nt(new ArrayBuffer(1)))!=un||rt&&X(new rt)!=sn||st&&X(st.resolve())!=an||at&&X(new at)!=on||it&&X(new it)!=cn)&&(X=function(t){var e=Sr(t),n=e==jd?t.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Kd:return un;case Vd:return sn;case Xd:return an;case Wd:return on;case qd:return cn}return e});var Te=X;function zd(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var xr=zd;function Yd(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=[r,r]}),n}var Qd=Yd,Zd=xd,Jd=Te,ep=xr,tp=Qd,np="[object Map]",rp="[object Set]";function sp(t){return function(e){var n=Jd(e);return n==np?ep(e):n==rp?tp(e):Zd(e,t(e))}}var Er=sp,ap=Er,ip=O,op=ap(ip),Rr=op,cp=Rr,up=Er,lp=S,fp=up(lp),Or=fp,hp=Or,dp=ar,pp=ir;function gp(t,e,n){var r;return n(t,function(s,a,i){if(e(s,a,i))return r=a,!1}),r}var Ir=gp,mp=$t,vp=O;function yp(t,e){return t&&mp(t,e,vp)}var ie=yp,_p="__lodash_hash_undefined__";function Ap(t){return this.__data__.set(t,_p),this}var Tp=Ap;function bp(t){return this.__data__.has(t)}var $p=bp,wp=vt,Sp=Tp,xp=$p;function Le(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wp;++e<n;)this.add(t[e])}Le.prototype.add=Le.prototype.push=Sp;Le.prototype.has=xp;var Ep=Le;function Rp(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Op=Rp;function Ip(t,e){return t.has(e)}var Lp=Ip,Cp=Ep,Mp=Op,Pp=Lp,Np=1,Fp=2;function Dp(t,e,n,r,s,a){var i=n&Np,o=t.length,c=e.length;if(o!=c&&!(i&&c>o))return!1;var u=a.get(t),l=a.get(e);if(u&&l)return u==e&&l==t;var f=-1,h=!0,d=n&Fp?new Cp:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var p=t[f],v=e[f];if(r)var g=i?r(v,p,f,e,t,a):r(p,v,f,t,e,a);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!Mp(e,function(m,y){if(!Pp(d,y)&&(p===m||s(p,m,n,r,a)))return d.push(y)})){h=!1;break}}else if(!(p===v||s(p,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var Lr=Dp;function Gp(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Bp=Gp,ln=Y,fn=gr,kp=J,Up=Lr,Hp=xr,jp=Bp,Kp=1,Vp=2,Xp="[object Boolean]",Wp="[object Date]",qp="[object Error]",zp="[object Map]",Yp="[object Number]",Qp="[object RegExp]",Zp="[object Set]",Jp="[object String]",eg="[object Symbol]",tg="[object ArrayBuffer]",ng="[object DataView]",hn=ln?ln.prototype:void 0,qe=hn?hn.valueOf:void 0;function rg(t,e,n,r,s,a,i){switch(n){case ng:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tg:return!(t.byteLength!=e.byteLength||!a(new fn(t),new fn(e)));case Xp:case Wp:case Yp:return kp(+t,+e);case qp:return t.name==e.name&&t.message==e.message;case Qp:case Jp:return t==e+"";case zp:var o=Hp;case Zp:var c=r&Kp;if(o||(o=jp),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;r|=Vp,i.set(t,e);var l=Up(o(t),o(e),r,s,a,i);return i.delete(t),l;case eg:if(qe)return qe.call(t)==qe.call(e)}return!1}var sg=rg,ag=At,ig=R;function og(t,e,n){var r=e(t);return ig(t)?r:ag(r,n(t))}var Cr=og;function cg(t,e){for(var n=-1,r=t==null?0:t.length,s=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[s++]=i)}return a}var Mr=cg;function ug(){return[]}var Pr=ug,lg=Mr,fg=Pr,hg=Object.prototype,dg=hg.propertyIsEnumerable,dn=Object.getOwnPropertySymbols,pg=dn?function(t){return t==null?[]:(t=Object(t),lg(dn(t),function(e){return dg.call(t,e)}))}:fg,xt=pg,gg=Cr,mg=xt,vg=O;function yg(t){return gg(t,vg,mg)}var Nr=yg,pn=Nr,_g=1,Ag=Object.prototype,Tg=Ag.hasOwnProperty;function bg(t,e,n,r,s,a){var i=n&_g,o=pn(t),c=o.length,u=pn(e),l=u.length;if(c!=l&&!i)return!1;for(var f=c;f--;){var h=o[f];if(!(i?h in e:Tg.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=i;++f<c;){h=o[f];var m=t[h],y=e[h];if(r)var b=i?r(y,m,h,e,t,a):r(m,y,h,t,e,a);if(!(b===void 0?m===y||s(m,y,n,r,a):b)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(v=!1)}return a.delete(t),a.delete(e),v}var $g=bg,ze=He,wg=Lr,Sg=sg,xg=$g,gn=Te,mn=R,vn=ye,Eg=De,Rg=1,yn="[object Arguments]",_n="[object Array]",$e="[object Object]",Og=Object.prototype,An=Og.hasOwnProperty;function Ig(t,e,n,r,s,a){var i=mn(t),o=mn(e),c=i?_n:gn(t),u=o?_n:gn(e);c=c==yn?$e:c,u=u==yn?$e:u;var l=c==$e,f=u==$e,h=c==u;if(h&&vn(t)){if(!vn(e))return!1;i=!0,l=!1}if(h&&!l)return a||(a=new ze),i||Eg(t)?wg(t,e,n,r,s,a):Sg(t,e,c,n,r,s,a);if(!(n&Rg)){var d=l&&An.call(t,"__wrapped__"),p=f&&An.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return a||(a=new ze),s(v,g,n,r,a)}}return h?(a||(a=new ze),xg(t,e,n,r,s,a)):!1}var Lg=Ig,Cg=Lg,Tn=N;function Fr(t,e,n,r,s){return t===e?!0:t==null||e==null||!Tn(t)&&!Tn(e)?t!==t&&e!==e:Cg(t,e,n,r,Fr,s)}var Dr=Fr,Mg=He,Pg=Dr,Ng=1,Fg=2;function Dg(t,e,n,r){var s=n.length,a=s,i=!r;if(t==null)return!a;for(t=Object(t);s--;){var o=n[s];if(i&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<a;){o=n[s];var c=o[0],u=t[c],l=o[1];if(i&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Mg;if(r)var h=r(u,l,c,t,e,f);if(!(h===void 0?Pg(l,u,Ng|Fg,r,f):h))return!1}}return!0}var Gg=Dg,Bg=E;function kg(t){return t===t&&!Bg(t)}var Gr=kg,Ug=Gr,Hg=O;function jg(t){for(var e=Hg(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Ug(s)]}return e}var Kg=jg;function Vg(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Br=Vg,Xg=Gg,Wg=Kg,qg=Br;function zg(t){var e=Wg(t);return e.length==1&&e[0][2]?qg(e[0][0],e[0][1]):function(n){return n===t||Xg(n,t,e)}}var Yg=zg;function Qg(t,e){return t!=null&&e in Object(t)}var Zg=Qg,Jg=H,em=Fe,tm=R,nm=Pe,rm=ft,sm=j;function am(t,e,n){e=Jg(e,t);for(var r=-1,s=e.length,a=!1;++r<s;){var i=sm(e[r]);if(!(a=t!=null&&n(t,i)))break;t=t[i]}return a||++r!=s?a:(s=t==null?0:t.length,!!s&&rm(s)&&nm(i,s)&&(tm(t)||em(t)))}var kr=am,im=Zg,om=kr;function cm(t,e){return t!=null&&om(t,e,im)}var Et=cm,um=Dr,lm=_t,fm=Et,hm=gt,dm=Gr,pm=Br,gm=j,mm=1,vm=2;function ym(t,e){return hm(t)&&dm(e)?pm(gm(t),e):function(n){var r=lm(n,t);return r===void 0&&r===e?fm(n,t):um(e,r,mm|vm)}}var _m=ym;function Am(t){return function(e){return e==null?void 0:e[t]}}var Tm=Am,bm=Ae;function $m(t){return function(e){return bm(e,t)}}var wm=$m,Sm=Tm,xm=wm,Em=gt,Rm=j;function Om(t){return Em(t)?Sm(Rm(t)):xm(t)}var Im=Om,Lm=Yg,Cm=_m,Mm=me,Pm=R,Nm=Im;function Fm(t){return typeof t=="function"?t:t==null?Mm:typeof t=="object"?Pm(t)?Cm(t[0],t[1]):Lm(t):Nm(t)}var K=Fm,Dm=Ir,Gm=ie,Bm=K;function km(t,e){return Dm(t,Bm(e),Gm)}var Um=km,Hm=dr,jm=Hm(!0),Ur=jm,Km=Ur,Vm=O;function Xm(t,e){return t&&Km(t,e,Vm)}var Hr=Xm,Wm=Ir,qm=Hr,zm=K;function Ym(t,e){return Wm(t,zm(e),qm)}var Qm=Ym,Zm=me;function Jm(t){return typeof t=="function"?t:Zm}var oe=Jm,ev=$t,tv=oe,nv=S;function rv(t,e){return t==null?t:ev(t,tv(e),nv)}var sv=rv,av=Ur,iv=oe,ov=S;function cv(t,e){return t==null?t:av(t,iv(e),ov)}var uv=cv,lv=ie,fv=oe;function hv(t,e){return t&&lv(t,fv(e))}var dv=hv,pv=Hr,gv=oe;function mv(t,e){return t&&pv(t,gv(e))}var vv=mv,yv=Mr,_v=Z;function Av(t,e){return yv(e,function(n){return _v(t[n])})}var jr=Av,Tv=jr,bv=O;function $v(t){return t==null?[]:Tv(t,bv(t))}var wv=$v,Sv=jr,xv=S;function Ev(t){return t==null?[]:Sv(t,xv(t))}var Rv=Ev,Ov=Object.prototype,Iv=Ov.hasOwnProperty;function Lv(t,e){return t!=null&&Iv.call(t,e)}var Cv=Lv,Mv=Cv,Pv=kr;function Nv(t,e){return t!=null&&Pv(t,e,Mv)}var Fv=Nv,Dv=ie;function Gv(t,e,n,r){return Dv(t,function(s,a,i){e(r,n(s),a,i)}),r}var Bv=Gv,kv=Bv;function Uv(t,e){return function(n,r){return kv(n,t,e(r),{})}}var Kr=Uv,Hv=Jn,jv=Kr,Kv=me,Vv=Object.prototype,Xv=Vv.toString,Wv=jv(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=Xv.call(e)),t[e]=n},Hv(Kv)),qv=Wv,zv=K,Yv=Kr,Vr=Object.prototype,Qv=Vr.hasOwnProperty,Zv=Vr.toString,Jv=Yv(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=Zv.call(e)),Qv.call(t,e)?t[e].push(n):t[e]=[n]},zv),ey=Jv;function ty(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Xr=ty;function ny(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(s);++r<s;)a[r]=t[r+e];return a}var ry=ny,sy=Ae,ay=ry;function iy(t,e){return e.length<2?t:sy(t,ay(e,0,-1))}var Wr=iy,oy=lt,cy=H,uy=Xr,ly=Wr,fy=j;function hy(t,e,n){e=cy(e,t),t=ly(t,e);var r=t==null?t:t[fy(uy(e))];return r==null?void 0:oy(r,t,n)}var dy=hy,py=dy,gy=Me,my=gy(py),vy=my,yy=ge,_y=ie,Ay=K;function Ty(t,e){var n={};return e=Ay(e),_y(t,function(r,s,a){yy(n,e(r,s,a),r)}),n}var by=Ty,$y=ge,wy=ie,Sy=K;function xy(t,e){var n={};return e=Sy(e),wy(t,function(r,s,a){$y(n,s,e(r,s,a))}),n}var Ey=xy,Ry=St,Oy=ee,Iy=Oy(function(t,e,n){Ry(t,e,n)}),Ly=Iy;function Cy(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var qr=Cy,My=M,Py=S;function Ny(t,e){return t&&My(e,Py(e),t)}var Fy=Ny,Dy=M,Gy=xt;function By(t,e){return Dy(t,Gy(t),e)}var ky=By,Uy=At,Hy=je,jy=xt,Ky=Pr,Vy=Object.getOwnPropertySymbols,Xy=Vy?function(t){for(var e=[];t;)Uy(e,jy(t)),t=Hy(t);return e}:Ky,zr=Xy,Wy=M,qy=zr;function zy(t,e){return Wy(t,qy(t),e)}var Yy=zy,Qy=Cr,Zy=zr,Jy=S;function e_(t){return Qy(t,Jy,Zy)}var Rt=e_,t_=Object.prototype,n_=t_.hasOwnProperty;function r_(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&n_.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var s_=r_,a_=wt;function i_(t,e){var n=e?a_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var o_=i_,c_=/\w*$/;function u_(t){var e=new t.constructor(t.source,c_.exec(t));return e.lastIndex=t.lastIndex,e}var l_=u_,bn=Y,$n=bn?bn.prototype:void 0,wn=$n?$n.valueOf:void 0;function f_(t){return wn?Object(wn.call(t)):{}}var h_=f_,d_=wt,p_=o_,g_=l_,m_=h_,v_=mr,y_="[object Boolean]",__="[object Date]",A_="[object Map]",T_="[object Number]",b_="[object RegExp]",$_="[object Set]",w_="[object String]",S_="[object Symbol]",x_="[object ArrayBuffer]",E_="[object DataView]",R_="[object Float32Array]",O_="[object Float64Array]",I_="[object Int8Array]",L_="[object Int16Array]",C_="[object Int32Array]",M_="[object Uint8Array]",P_="[object Uint8ClampedArray]",N_="[object Uint16Array]",F_="[object Uint32Array]";function D_(t,e,n){var r=t.constructor;switch(e){case x_:return d_(t);case y_:case __:return new r(+t);case E_:return p_(t,n);case R_:case O_:case I_:case L_:case C_:case M_:case P_:case N_:case F_:return v_(t,n);case A_:return new r;case T_:case w_:return new r(t);case b_:return g_(t);case $_:return new r;case S_:return m_(t)}}var G_=D_,B_=Te,k_=N,U_="[object Map]";function H_(t){return k_(t)&&B_(t)==U_}var j_=H_,K_=j_,V_=ht,Sn=dt,xn=Sn&&Sn.isMap,X_=xn?V_(xn):K_,W_=X_,q_=Te,z_=N,Y_="[object Set]";function Q_(t){return z_(t)&&q_(t)==Y_}var Z_=Q_,J_=Z_,eA=ht,En=dt,Rn=En&&En.isSet,tA=Rn?eA(Rn):J_,nA=tA,rA=He,sA=qr,aA=Ce,iA=lr,oA=Fy,cA=pr,uA=vr,lA=ky,fA=Yy,hA=Nr,dA=Rt,pA=Te,gA=s_,mA=G_,vA=yr,yA=R,_A=ye,AA=W_,TA=E,bA=nA,$A=O,wA=S,SA=1,xA=2,EA=4,Yr="[object Arguments]",RA="[object Array]",OA="[object Boolean]",IA="[object Date]",LA="[object Error]",Qr="[object Function]",CA="[object GeneratorFunction]",MA="[object Map]",PA="[object Number]",Zr="[object Object]",NA="[object RegExp]",FA="[object Set]",DA="[object String]",GA="[object Symbol]",BA="[object WeakMap]",kA="[object ArrayBuffer]",UA="[object DataView]",HA="[object Float32Array]",jA="[object Float64Array]",KA="[object Int8Array]",VA="[object Int16Array]",XA="[object Int32Array]",WA="[object Uint8Array]",qA="[object Uint8ClampedArray]",zA="[object Uint16Array]",YA="[object Uint32Array]",T={};T[Yr]=T[RA]=T[kA]=T[UA]=T[OA]=T[IA]=T[HA]=T[jA]=T[KA]=T[VA]=T[XA]=T[MA]=T[PA]=T[Zr]=T[NA]=T[FA]=T[DA]=T[GA]=T[WA]=T[qA]=T[zA]=T[YA]=!0;T[LA]=T[Qr]=T[BA]=!1;function Se(t,e,n,r,s,a){var i,o=e&SA,c=e&xA,u=e&EA;if(n&&(i=s?n(t,r,s,a):n(t)),i!==void 0)return i;if(!TA(t))return t;var l=yA(t);if(l){if(i=gA(t),!o)return uA(t,i)}else{var f=pA(t),h=f==Qr||f==CA;if(_A(t))return cA(t,o);if(f==Zr||f==Yr||h&&!s){if(i=c||h?{}:vA(t),!o)return c?fA(t,oA(i,t)):lA(t,iA(i,t))}else{if(!T[f])return s?t:{};i=mA(t,f,o)}}a||(a=new rA);var d=a.get(t);if(d)return d;a.set(t,i),bA(t)?t.forEach(function(g){i.add(Se(g,e,n,g,t,a))}):AA(t)&&t.forEach(function(g,m){i.set(m,Se(g,e,n,m,t,a))});var p=u?c?dA:hA:c?wA:$A,v=l?void 0:p(t);return sA(v||t,function(g,m){v&&(m=g,g=t[m]),aA(i,m,Se(g,e,n,m,t,a))}),i}var QA=Se,ZA=H,JA=Xr,eT=Wr,tT=j;function nT(t,e){return e=ZA(e,t),t=eT(t,e),t==null||delete t[tT(JA(e))]}var Jr=nT,rT=Ar;function sT(t){return rT(t)?void 0:t}var aT=sT,iT=_e,oT=QA,cT=Jr,uT=H,lT=M,fT=aT,hT=Tt,dT=Rt,pT=1,gT=2,mT=4,vT=hT(function(t,e){var n={};if(t==null)return n;var r=!1;e=iT(e,function(a){return a=uT(a,t),r||(r=a.length>1),a}),lT(t,dT(t),n),r&&(n=oT(n,pT|gT|mT,fT));for(var s=e.length;s--;)cT(n,e[s]);return n}),yT=vT,_T="Expected a function";function AT(t){if(typeof t!="function")throw new TypeError(_T);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var TT=AT,bT=Ce,$T=H,wT=Pe,On=E,ST=j;function xT(t,e,n,r){if(!On(t))return t;e=$T(e,t);for(var s=-1,a=e.length,i=a-1,o=t;o!=null&&++s<a;){var c=ST(e[s]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=i){var l=o[c];u=r?r(l,c,o):void 0,u===void 0&&(u=On(l)?l:wT(e[s+1])?[]:{})}bT(o,c,u),o=o[c]}return t}var Ke=xT,ET=Ae,RT=Ke,OT=H;function IT(t,e,n){for(var r=-1,s=e.length,a={};++r<s;){var i=e[r],o=ET(t,i);n(o,i)&&RT(a,OT(i,t),o)}return a}var es=IT,LT=_e,CT=K,MT=es,PT=Rt;function NT(t,e){if(t==null)return{};var n=LT(PT(t),function(r){return[r]});return e=CT(e),MT(t,n,function(r,s){return e(r,s[0])})}var ts=NT,FT=K,DT=TT,GT=ts;function BT(t,e){return GT(t,DT(FT(e)))}var kT=BT,UT=es,HT=Et;function jT(t,e){return UT(t,e,function(n,r){return HT(t,r)})}var KT=jT,VT=KT,XT=Tt,WT=XT(function(t,e){return t==null?{}:VT(t,e)}),qT=WT,zT=H,YT=Z,QT=j;function ZT(t,e,n){e=zT(e,t);var r=-1,s=e.length;for(s||(s=1,t=void 0);++r<s;){var a=t==null?void 0:t[QT(e[r])];a===void 0&&(r=s,a=n),t=YT(a)?a.call(t):a}return t}var JT=ZT,eb=Ke;function tb(t,e,n){return t==null?t:eb(t,e,n)}var nb=tb,rb=Ke;function sb(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:rb(t,e,n,r)}var ab=sb,ib=qr,ob=bt,cb=ie,ub=K,lb=je,fb=R,hb=ye,db=Z,pb=E,gb=De;function mb(t,e,n){var r=fb(t),s=r||hb(t)||gb(t);if(e=ub(e),n==null){var a=t&&t.constructor;s?n=r?new a:[]:pb(t)?n=db(a)?ob(lb(t)):{}:n={}}return(s?ib:cb)(t,function(i,o,c){return e(n,i,o,c)}),n}var vb=mb,yb=Jr;function _b(t,e){return t==null?!0:yb(t,e)}var Ab=_b,Tb=Ae,bb=Ke;function $b(t,e,n,r){return bb(t,e,n(Tb(t,e)),r)}var ns=$b,wb=ns,Sb=oe;function xb(t,e,n){return t==null?t:wb(t,e,Sb(n))}var Eb=xb,Rb=ns,Ob=oe;function Ib(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:Rb(t,e,Ob(n),r)}var Lb=Ib,Cb=_e;function Mb(t,e){return Cb(e,function(n){return t[n]})}var rs=Mb,Pb=rs,Nb=O;function Fb(t){return t==null?[]:Pb(t,Nb(t))}var Db=Fb,Gb=rs,Bb=S;function kb(t){return t==null?[]:Gb(t,Bb(t))}var Ub=kb,Hb={assign:Ac,assignIn:ar,assignInWith:ir,assignWith:Xc,at:Ef,create:Ff,defaults:jf,defaultsDeep:$d,entries:cp,entriesIn:hp,extend:dp,extendWith:pp,findKey:Um,findLastKey:Qm,forIn:sv,forInRight:uv,forOwn:dv,forOwnRight:vv,functions:wv,functionsIn:Rv,get:_t,has:Fv,hasIn:Et,invert:qv,invertBy:ey,invoke:vy,keys:O,keysIn:S,mapKeys:by,mapValues:Ey,merge:Ly,mergeWith:wr,omit:yT,omitBy:kT,pick:qT,pickBy:ts,result:JT,set:nb,setWith:ab,toPairs:Rr,toPairsIn:Or,transform:vb,unset:Ab,update:Eb,updateWith:Lb,values:Db,valuesIn:Ub};class jb{constructor(e={}){const n={container:null,modelUrl:{},bgColor:"#0f1423",bgAlpha:0,lightColor:"#ffffff",lightStrength:1,center:[0,0,0],controls:{visibel:!0,maxPolarAngle:Math.PI,enableDamping:!0,autoRotate:!1}};this.options=Hb.merge(n,e),this.width=this.options.container.offsetWidth,this.height=this.options.container.offsetHeight,this.scene=new is,this.camera=null,this.renderer=null,this.controls=null,this.init()}init(){this.initCamera(),this.initLight(),this.initModel(),this.initRenderer(),this.initControls()}initModel(){}initCamera(){const{center:e}=this.options;this.camera=new Nn(45,this.width/this.height,.1,100),this.camera.position.set(...e),this.camera.lookAt(...e)}initRenderer(){const{bgColor:e,bgAlpha:n}=this.options;this.renderer=new os({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.setClearColor(e,n),this.renderer.environment=cs,this.renderer.toneMapping=us,this.renderer.exposure=1,this.renderer.outputColorSpace=k,this.options.container.appendChild(this.renderer.domElement)}initLight(){const{center:e,lightColor:n,lightStrength:r}=this.options,s=new ls(n,r),a=new fe(n,r);a.position.set(0,0,r);const i=new fe(n,r);i.position.set(r,0,0);const o=new fe(n,r);o.position.set(-r,0,0);const c=new fe(n,r);c.position.set(0,r,0),this.lightGroup=new we,this.lightGroup.add(s),this.lightGroup.add(a),this.lightGroup.add(i),this.lightGroup.add(o),this.lightGroup.add(c),this.scene.add(this.lightGroup)}initControls(){const{center:e,controls:{visibel:n,maxPolarAngle:r,enableDamping:s,autoRotate:a}}=this.options;if(!n)return!1;this.controls=new fs(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=r,this.controls.enableDamping=s,this.controls.autoRotate=a,this.controls.minDistance=2,this.controls.maxDistance=8}resize(){this.width=this.options.container.offsetWidth,this.height=this.options.container.offsetHeight,this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()}run(){this.loop(),window.addEventListener("resize",()=>{this.resize()})}loop(){window.requestAnimationFrame(()=>{this.loop()}),this.renderer.render(this.scene,this.camera),this.options.controls.visibel&&this.controls&&this.controls.update(),hs.update()}}function In(t,e){if(e===ds)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===et||e===Fn){let n=t.getIndex();if(n===null){const i=[],o=t.getAttribute("position");if(o!==void 0){for(let c=0;c<o.count;c++)i.push(c);t.setIndex(i),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,s=[];if(e===et)for(let i=1;i<=r;i++)s.push(n.getX(0)),s.push(n.getX(i)),s.push(n.getX(i+1));else for(let i=0;i<r;i++)i%2===0?(s.push(n.getX(i)),s.push(n.getX(i+1)),s.push(n.getX(i+2))):(s.push(n.getX(i+2)),s.push(n.getX(i+1)),s.push(n.getX(i)));s.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(s),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class Kb extends Dn{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new zb(n)}),this.register(function(n){return new s$(n)}),this.register(function(n){return new a$(n)}),this.register(function(n){return new i$(n)}),this.register(function(n){return new Qb(n)}),this.register(function(n){return new Zb(n)}),this.register(function(n){return new Jb(n)}),this.register(function(n){return new e$(n)}),this.register(function(n){return new qb(n)}),this.register(function(n){return new t$(n)}),this.register(function(n){return new Yb(n)}),this.register(function(n){return new r$(n)}),this.register(function(n){return new n$(n)}),this.register(function(n){return new Xb(n)}),this.register(function(n){return new o$(n)}),this.register(function(n){return new c$(n)})}load(e,n,r,s){const a=this;let i;if(this.resourcePath!=="")i=this.resourcePath;else if(this.path!==""){const u=de.extractUrlBase(e);i=de.resolveURL(u,this.path)}else i=de.extractUrlBase(e);this.manager.itemStart(e);const o=function(u){s?s(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},c=new xe(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{a.parse(u,i,function(l){n(l),a.manager.itemEnd(e)},o)}catch(l){o(l)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,s){let a;const i={},o={},c=new TextDecoder;if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===ss){try{i[A.KHR_BINARY_GLTF]=new u$(e)}catch(f){s&&s(f);return}a=JSON.parse(i[A.KHR_BINARY_GLTF].content)}else a=JSON.parse(c.decode(e));else a=e;if(a.asset===void 0||a.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new b$(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const f=this.pluginCallbacks[l](u);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[f.name]=f,i[f.name]=!0}if(a.extensionsUsed)for(let l=0;l<a.extensionsUsed.length;++l){const f=a.extensionsUsed[l],h=a.extensionsRequired||[];switch(f){case A.KHR_MATERIALS_UNLIT:i[f]=new Wb;break;case A.KHR_DRACO_MESH_COMPRESSION:i[f]=new l$(a,this.dracoLoader);break;case A.KHR_TEXTURE_TRANSFORM:i[f]=new f$;break;case A.KHR_MESH_QUANTIZATION:i[f]=new h$;break;default:h.indexOf(f)>=0&&o[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(i),u.setPlugins(o),u.parse(r,s)}parseAsync(e,n){const r=this;return new Promise(function(s,a){r.parse(e,n,s,a)})}}function Vb(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const A={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Xb{constructor(e){this.parser=e,this.name=A.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,s=n.length;r<s;r++){const a=n[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let s=n.cache.get(r);if(s)return s;const a=n.json,c=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const l=new U(16777215);c.color!==void 0&&l.setRGB(c.color[0],c.color[1],c.color[2],L);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new fe(l),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new gs(l),u.distance=f;break;case"spot":u=new ps(l),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,B(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+e),s=Promise.resolve(u),n.cache.add(r,s),s}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,a=r.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(c){return r._getNodeRef(n.cache,o,c)})}}class Wb{constructor(){this.name=A.KHR_MATERIALS_UNLIT}getMaterialType(){return he}extendParams(e,n,r){const s=[];e.color=new U(1,1,1),e.opacity=1;const a=n.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const i=a.baseColorFactor;e.color.setRGB(i[0],i[1],i[2],L),e.opacity=i[3]}a.baseColorTexture!==void 0&&s.push(r.assignTexture(e,"map",a.baseColorTexture,k))}return Promise.all(s)}}class qb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name].emissiveStrength;return a!==void 0&&(n.emissiveIntensity=a),Promise.resolve()}}class zb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];if(i.clearcoatFactor!==void 0&&(n.clearcoat=i.clearcoatFactor),i.clearcoatTexture!==void 0&&a.push(r.assignTexture(n,"clearcoatMap",i.clearcoatTexture)),i.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=i.clearcoatRoughnessFactor),i.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(n,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),i.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(n,"clearcoatNormalMap",i.clearcoatNormalTexture)),i.clearcoatNormalTexture.scale!==void 0)){const o=i.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ut(o,o)}return Promise.all(a)}}class Yb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];return i.iridescenceFactor!==void 0&&(n.iridescence=i.iridescenceFactor),i.iridescenceTexture!==void 0&&a.push(r.assignTexture(n,"iridescenceMap",i.iridescenceTexture)),i.iridescenceIor!==void 0&&(n.iridescenceIOR=i.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),i.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),i.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),i.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(n,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(a)}}class Qb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[];n.sheenColor=new U(0,0,0),n.sheenRoughness=0,n.sheen=1;const i=s.extensions[this.name];if(i.sheenColorFactor!==void 0){const o=i.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],L)}return i.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=i.sheenRoughnessFactor),i.sheenColorTexture!==void 0&&a.push(r.assignTexture(n,"sheenColorMap",i.sheenColorTexture,k)),i.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(n,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(a)}}class Zb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];return i.transmissionFactor!==void 0&&(n.transmission=i.transmissionFactor),i.transmissionTexture!==void 0&&a.push(r.assignTexture(n,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}class Jb{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];n.thickness=i.thicknessFactor!==void 0?i.thicknessFactor:0,i.thicknessTexture!==void 0&&a.push(r.assignTexture(n,"thicknessMap",i.thicknessTexture)),n.attenuationDistance=i.attenuationDistance||1/0;const o=i.attenuationColor||[1,1,1];return n.attenuationColor=new U().setRGB(o[0],o[1],o[2],L),Promise.all(a)}}class e${constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return n.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class t${constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];n.specularIntensity=i.specularFactor!==void 0?i.specularFactor:1,i.specularTexture!==void 0&&a.push(r.assignTexture(n,"specularIntensityMap",i.specularTexture));const o=i.specularColorFactor||[1,1,1];return n.specularColor=new U().setRGB(o[0],o[1],o[2],L),i.specularColorTexture!==void 0&&a.push(r.assignTexture(n,"specularColorMap",i.specularColorTexture,k)),Promise.all(a)}}class n${constructor(e){this.parser=e,this.name=A.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];return n.bumpScale=i.bumpFactor!==void 0?i.bumpFactor:1,i.bumpTexture!==void 0&&a.push(r.assignTexture(n,"bumpMap",i.bumpTexture)),Promise.all(a)}}class r${constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:P}extendMaterialParams(e,n){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],i=s.extensions[this.name];return i.anisotropyStrength!==void 0&&(n.anisotropy=i.anisotropyStrength),i.anisotropyRotation!==void 0&&(n.anisotropyRotation=i.anisotropyRotation),i.anisotropyTexture!==void 0&&a.push(r.assignTexture(n,"anisotropyMap",i.anisotropyTexture)),Promise.all(a)}}class s${constructor(e){this.parser=e,this.name=A.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const a=s.extensions[this.name],i=n.options.ktx2Loader;if(!i){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a.source,i)}}class a${constructor(e){this.parser=e,this.name=A.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,s=r.json,a=s.textures[e];if(!a.extensions||!a.extensions[n])return null;const i=a.extensions[n],o=s.images[i.source];let c=r.textureLoader;if(o.uri){const u=r.options.manager.getHandler(o.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,i.source,c);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class i${constructor(e){this.parser=e,this.name=A.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,s=r.json,a=s.textures[e];if(!a.extensions||!a.extensions[n])return null;const i=a.extensions[n],o=s.images[i.source];let c=r.textureLoader;if(o.uri){const u=r.options.manager.getHandler(o.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,i.source,c);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class o${constructor(e){this.name=A.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const s=r.extensions[this.name],a=this.parser.getDependency("buffer",s.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const c=s.byteOffset||0,u=s.byteLength||0,l=s.count,f=s.byteStride,h=new Uint8Array(o,c,u);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(l,f,h,s.mode,s.filter).then(function(d){return d.buffer}):i.ready.then(function(){const d=new ArrayBuffer(l*f);return i.decodeGltfBuffer(new Uint8Array(d),l,f,h,s.mode,s.filter),d})})}else return null}}class c${constructor(e){this.name=A.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const s=n.meshes[r.mesh];for(const u of s.primitives)if(u.mode!==x.TRIANGLES&&u.mode!==x.TRIANGLE_STRIP&&u.mode!==x.TRIANGLE_FAN&&u.mode!==void 0)return null;const i=r.extensions[this.name].attributes,o=[],c={};for(const u in i)o.push(this.parser.getDependency("accessor",i[u]).then(l=>(c[u]=l,c[u])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(u=>{const l=u.pop(),f=l.isGroup?l.children:[l],h=u[0].count,d=[];for(const p of f){const v=new Ee,g=new q,m=new Kn,y=new q(1,1,1),b=new ms(p.geometry,p.material,h);for(let _=0;_<h;_++)c.TRANSLATION&&g.fromBufferAttribute(c.TRANSLATION,_),c.ROTATION&&m.fromBufferAttribute(c.ROTATION,_),c.SCALE&&y.fromBufferAttribute(c.SCALE,_),b.setMatrixAt(_,v.compose(g,m,y));for(const _ in c)if(_==="_COLOR_0"){const w=c[_];b.instanceColor=new vs(w.array,w.itemSize,w.normalized)}else _!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&p.geometry.setAttribute(_,c[_]);Gn.prototype.copy.call(b,p),this.parser.assignFinalMaterial(b),d.push(b)}return l.isGroup?(l.clear(),l.add(...d),l):d[0]}))}}const ss="glTF",le=12,Ln={JSON:1313821514,BIN:5130562};class u${constructor(e){this.name=A.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,le),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==ss)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-le,a=new DataView(e,le);let i=0;for(;i<s;){const o=a.getUint32(i,!0);i+=4;const c=a.getUint32(i,!0);if(i+=4,c===Ln.JSON){const u=new Uint8Array(e,le+i,o);this.content=r.decode(u)}else if(c===Ln.BIN){const u=le+i;this.body=e.slice(u,u+o)}i+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class l${constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=A.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,s=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},c={},u={};for(const l in i){const f=ot[l]||l.toLowerCase();o[f]=i[l]}for(const l in e.attributes){const f=ot[l]||l.toLowerCase();if(i[l]!==void 0){const h=r.accessors[e.attributes[l]],d=z[h.componentType];u[f]=d.name,c[f]=h.normalized===!0}}return n.getDependency("bufferView",a).then(function(l){return new Promise(function(f,h){s.decodeDracoFile(l,function(d){for(const p in d.attributes){const v=d.attributes[p],g=c[p];g!==void 0&&(v.normalized=g)}f(d)},o,u,L,h)})})}}class f${constructor(){this.name=A.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class h${constructor(){this.name=A.KHR_MESH_QUANTIZATION}}class as extends Ws{constructor(e,n,r,s){super(e,n,r,s)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,s=this.valueSize,a=e*s*3+s;for(let i=0;i!==s;i++)n[i]=r[a+i];return n}interpolate_(e,n,r,s){const a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,c=o*2,u=o*3,l=s-n,f=(r-n)/l,h=f*f,d=h*f,p=e*u,v=p-u,g=-2*d+3*h,m=d-h,y=1-g,b=m-h+f;for(let _=0;_!==o;_++){const w=i[v+_+o],F=i[v+_+c]*l,I=i[p+_+o],ce=i[p+_]*l;a[_]=y*w+b*F+g*I+m*ce}return a}}const d$=new Kn;class p$ extends as{interpolate_(e,n,r,s){const a=super.interpolate_(e,n,r,s);return d$.fromArray(a).normalize().toArray(a),a}}const x={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},z={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Cn={9728:Fs,9729:Bn,9984:Ds,9985:Gs,9986:Bs,9987:kn},Mn={33071:ks,33648:Us,10497:tt},Ye={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ot={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},G={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},g$={CUBICSPLINE:void 0,LINEAR:jn,STEP:Hs},Qe={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function m$(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Un({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:js})),t.DefaultMaterial}function V(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function B(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function v$(t,e,n){let r=!1,s=!1,a=!1;for(let u=0,l=e.length;u<l;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(s=!0),f.COLOR_0!==void 0&&(a=!0),r&&s&&a)break}if(!r&&!s&&!a)return Promise.resolve(t);const i=[],o=[],c=[];for(let u=0,l=e.length;u<l;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;i.push(h)}if(s){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;o.push(h)}if(a){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;c.push(h)}}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(c)]).then(function(u){const l=u[0],f=u[1],h=u[2];return r&&(t.morphAttributes.position=l),s&&(t.morphAttributes.normal=f),a&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function y$(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,s=n.length;r<s;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function _$(t){let e;const n=t.extensions&&t.extensions[A.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Ze(n.attributes):e=t.indices+":"+Ze(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,s=t.targets.length;r<s;r++)e+=":"+Ze(t.targets[r]);return e}function Ze(t){let e="";const n=Object.keys(t).sort();for(let r=0,s=n.length;r<s;r++)e+=n[r]+":"+t[n[r]]+";";return e}function ct(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function A$(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const T$=new Ee;class b${constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Vb,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,s=!1,a=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,a=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||s&&a<98?this.textureLoader=new ys(this.options.manager):this.textureLoader=new _s(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xe(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,s=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(i){return i._markDefs&&i._markDefs()}),Promise.all(this._invokeAll(function(i){return i.beforeRoot&&i.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(i){const o={scene:i[0][s.scene||0],scenes:i[0],animations:i[1],cameras:i[2],asset:s.asset,parser:r,userData:{}};return V(a,o,s),B(o,s),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(o)})).then(function(){e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let s=0,a=n.length;s<a;s++){const i=n[s].joints;for(let o=0,c=i.length;o<c;o++)e[i[o]].isBone=!0}for(let s=0,a=e.length;s<a;s++){const i=e[s];i.mesh!==void 0&&(this._addNodeRef(this.meshCache,i.mesh),i.skin!==void 0&&(r[i.mesh].isSkinnedMesh=!0)),i.camera!==void 0&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const s=r.clone(),a=(i,o)=>{const c=this.associations.get(i);c!=null&&this.associations.set(o,c);for(const[u,l]of i.children.entries())a(l,o.children[u])};return a(r,s),s.name+="_instance_"+e.uses[n]++,s}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const s=e(n[r]);if(s)return s}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let s=0;s<n.length;s++){const a=e(n[s]);a&&r.push(a)}return r}getDependency(e,n){const r=e+":"+n;let s=this.cache.get(r);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(a){return a.loadNode&&a.loadNode(n)});break;case"mesh":s=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,n)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(r,s)}return s}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(a,i){return r.getDependency(e,i)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[A.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(a,i){r.load(de.resolveURL(n.uri,s.path),a,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const s=n.byteLength||0,a=n.byteOffset||0;return r.slice(a,a+s)})}loadAccessor(e){const n=this,r=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const i=Ye[s.type],o=z[s.componentType],c=s.normalized===!0,u=new o(s.count*i);return Promise.resolve(new pe(u,i,c))}const a=[];return s.bufferView!==void 0?a.push(this.getDependency("bufferView",s.bufferView)):a.push(null),s.sparse!==void 0&&(a.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(a).then(function(i){const o=i[0],c=Ye[s.type],u=z[s.componentType],l=u.BYTES_PER_ELEMENT,f=l*c,h=s.byteOffset||0,d=s.bufferView!==void 0?r.bufferViews[s.bufferView].byteStride:void 0,p=s.normalized===!0;let v,g;if(d&&d!==f){const m=Math.floor(h/d),y="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+m+":"+s.count;let b=n.cache.get(y);b||(v=new u(o,m*d,s.count*d/l),b=new As(v,d/l),n.cache.add(y,b)),g=new Ks(b,c,h%d/l,p)}else o===null?v=new u(s.count*c):v=new u(o,h,s.count*c),g=new pe(v,c,p);if(s.sparse!==void 0){const m=Ye.SCALAR,y=z[s.sparse.indices.componentType],b=s.sparse.indices.byteOffset||0,_=s.sparse.values.byteOffset||0,w=new y(i[1],b,s.sparse.count*m),F=new u(i[2],_,s.sparse.count*c);o!==null&&(g=new pe(g.array.slice(),g.itemSize,g.normalized));for(let I=0,ce=w.length;I<ce;I++){const D=w[I];if(g.setX(D,F[I*c]),c>=2&&g.setY(D,F[I*c+1]),c>=3&&g.setZ(D,F[I*c+2]),c>=4&&g.setW(D,F[I*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const n=this.json,r=this.options,a=n.textures[e].source,i=n.images[a];let o=this.textureLoader;if(i.uri){const c=r.manager.getHandler(i.uri);c!==null&&(o=c)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,n,r){const s=this,a=this.json,i=a.textures[e],o=a.images[n],c=(o.uri||o.bufferView)+":"+i.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(n,r).then(function(l){l.flipY=!1,l.name=i.name||o.name||"",l.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(l.name=o.uri);const h=(a.samplers||{})[i.sampler]||{};return l.magFilter=Cn[h.magFilter]||Bn,l.minFilter=Cn[h.minFilter]||kn,l.wrapS=Mn[h.wrapS]||tt,l.wrapT=Mn[h.wrapT]||tt,s.associations.set(l,{textures:e}),l}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,n){const r=this,s=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const i=s.images[e],o=self.URL||self.webkitURL;let c=i.uri||"",u=!1;if(i.bufferView!==void 0)c=r.getDependency("bufferView",i.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:i.mimeType});return c=o.createObjectURL(h),c});else if(i.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(c).then(function(f){return new Promise(function(h,d){let p=h;n.isImageBitmapLoader===!0&&(p=function(v){const g=new It(v);g.needsUpdate=!0,h(g)}),n.load(de.resolveURL(f,a.path),p,void 0,d)})}).then(function(f){return u===!0&&o.revokeObjectURL(c),f.userData.mimeType=i.mimeType||A$(i.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[e]=l,l}assignTexture(e,n,r,s){const a=this;return this.getDependency("texture",r.index).then(function(i){if(!i)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(i=i.clone(),i.channel=r.texCoord),a.extensions[A.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[A.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const c=a.associations.get(i);i=a.extensions[A.KHR_TEXTURE_TRANSFORM].extendTexture(i,o),a.associations.set(i,c)}}return s!==void 0&&(i.colorSpace=s),e[n]=i,i})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const s=n.attributes.tangent===void 0,a=n.attributes.color!==void 0,i=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let c=this.cache.get(o);c||(c=new Ts,Xe.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(o,c)),r=c}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let c=this.cache.get(o);c||(c=new bs,Xe.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(o,c)),r=c}if(s||a||i){let o="ClonedMaterial:"+r.uuid+":";s&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),i&&(o+="flat-shading:");let c=this.cache.get(o);c||(c=r.clone(),a&&(c.vertexColors=!0),i&&(c.flatShading=!0),s&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(o,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return Un}loadMaterial(e){const n=this,r=this.json,s=this.extensions,a=r.materials[e];let i;const o={},c=a.extensions||{},u=[];if(c[A.KHR_MATERIALS_UNLIT]){const f=s[A.KHR_MATERIALS_UNLIT];i=f.getMaterialType(),u.push(f.extendParams(o,a,n))}else{const f=a.pbrMetallicRoughness||{};if(o.color=new U(1,1,1),o.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],L),o.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(o,"map",f.baseColorTexture,k)),o.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,o.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(o,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",f.metallicRoughnessTexture))),i=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=$s);const l=a.alphaMode||Qe.OPAQUE;if(l===Qe.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,l===Qe.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&i!==he&&(u.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new ut(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;o.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&i!==he&&(u.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&i!==he){const f=a.emissiveFactor;o.emissive=new U().setRGB(f[0],f[1],f[2],L)}return a.emissiveTexture!==void 0&&i!==he&&u.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,k)),Promise.all(u).then(function(){const f=new i(o);return a.name&&(f.name=a.name),B(f,a),n.associations.set(f,{materials:e}),a.extensions&&V(s,f,a),f})}createUniqueName(e){const n=ws.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,s=this.primitiveCache;function a(o){return r[A.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(c){return Pn(c,o,n)})}const i=[];for(let o=0,c=e.length;o<c;o++){const u=e[o],l=_$(u),f=s[l];if(f)i.push(f.promise);else{let h;u.extensions&&u.extensions[A.KHR_DRACO_MESH_COMPRESSION]?h=a(u):h=Pn(new Hn,u,n),s[l]={primitive:u,promise:h},i.push(h)}}return Promise.all(i)}loadMesh(e){const n=this,r=this.json,s=this.extensions,a=r.meshes[e],i=a.primitives,o=[];for(let c=0,u=i.length;c<u;c++){const l=i[c].material===void 0?m$(this.cache):this.getDependency("material",i[c].material);o.push(l)}return o.push(n.loadGeometries(i)),Promise.all(o).then(function(c){const u=c.slice(0,c.length-1),l=c[c.length-1],f=[];for(let d=0,p=l.length;d<p;d++){const v=l[d],g=i[d];let m;const y=u[d];if(g.mode===x.TRIANGLES||g.mode===x.TRIANGLE_STRIP||g.mode===x.TRIANGLE_FAN||g.mode===void 0)m=a.isSkinnedMesh===!0?new Ss(v,y):new xs(v,y),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),g.mode===x.TRIANGLE_STRIP?m.geometry=In(m.geometry,Fn):g.mode===x.TRIANGLE_FAN&&(m.geometry=In(m.geometry,et));else if(g.mode===x.LINES)m=new Es(v,y);else if(g.mode===x.LINE_STRIP)m=new Rs(v,y);else if(g.mode===x.LINE_LOOP)m=new Os(v,y);else if(g.mode===x.POINTS)m=new Is(v,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(m.geometry.morphAttributes).length>0&&y$(m,a),m.name=n.createUniqueName(a.name||"mesh_"+e),B(m,a),g.extensions&&V(s,m,g),n.assignFinalMaterial(m),f.push(m)}for(let d=0,p=f.length;d<p;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return a.extensions&&V(s,f[0],a),f[0];const h=new we;a.extensions&&V(s,h,a),n.associations.set(h,{meshes:e});for(let d=0,p=f.length;d<p;d++)h.add(f[d]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],s=r[r.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Nn(Ls.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):r.type==="orthographic"&&(n=new Cs(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),B(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let s=0,a=n.joints.length;s<a;s++)r.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(s){const a=s.pop(),i=s,o=[],c=[];for(let u=0,l=i.length;u<l;u++){const f=i[u];if(f){o.push(f);const h=new Ee;a!==null&&h.fromArray(a.array,u*16),c.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new Ms(o,c)})}loadAnimation(e){const n=this.json,r=this,s=n.animations[e],a=s.name?s.name:"animation_"+e,i=[],o=[],c=[],u=[],l=[];for(let f=0,h=s.channels.length;f<h;f++){const d=s.channels[f],p=s.samplers[d.sampler],v=d.target,g=v.node,m=s.parameters!==void 0?s.parameters[p.input]:p.input,y=s.parameters!==void 0?s.parameters[p.output]:p.output;v.node!==void 0&&(i.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",m)),c.push(this.getDependency("accessor",y)),u.push(p),l.push(v))}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(c),Promise.all(u),Promise.all(l)]).then(function(f){const h=f[0],d=f[1],p=f[2],v=f[3],g=f[4],m=[];for(let y=0,b=h.length;y<b;y++){const _=h[y],w=d[y],F=p[y],I=v[y],ce=g[y];if(_===void 0)continue;_.updateMatrix&&_.updateMatrix();const D=r._createAnimationTracks(_,w,F,I,ce);if(D)for(let Ve=0;Ve<D.length;Ve++)m.push(D[Ve])}return new Ps(a,void 0,m)})}createNodeMesh(e){const n=this.json,r=this,s=n.nodes[e];return s.mesh===void 0?null:r.getDependency("mesh",s.mesh).then(function(a){const i=r._getNodeRef(r.meshCache,s.mesh,a);return s.weights!==void 0&&i.traverse(function(o){if(o.isMesh)for(let c=0,u=s.weights.length;c<u;c++)o.morphTargetInfluences[c]=s.weights[c]}),i})}loadNode(e){const n=this.json,r=this,s=n.nodes[e],a=r._loadNodeShallow(e),i=[],o=s.children||[];for(let u=0,l=o.length;u<l;u++)i.push(r.getDependency("node",o[u]));const c=s.skin===void 0?Promise.resolve(null):r.getDependency("skin",s.skin);return Promise.all([a,Promise.all(i),c]).then(function(u){const l=u[0],f=u[1],h=u[2];h!==null&&l.traverse(function(d){d.isSkinnedMesh&&d.bind(h,T$)});for(let d=0,p=f.length;d<p;d++)l.add(f[d]);return l})}_loadNodeShallow(e){const n=this.json,r=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=n.nodes[e],i=a.name?s.createUniqueName(a.name):"",o=[],c=s._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&o.push(c),a.camera!==void 0&&o.push(s.getDependency("camera",a.camera).then(function(u){return s._getNodeRef(s.cameraCache,a.camera,u)})),s._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){o.push(u)}),this.nodeCache[e]=Promise.all(o).then(function(u){let l;if(a.isBone===!0?l=new Ns:u.length>1?l=new we:u.length===1?l=u[0]:l=new Gn,l!==u[0])for(let f=0,h=u.length;f<h;f++)l.add(u[f]);if(a.name&&(l.userData.name=a.name,l.name=i),B(l,a),a.extensions&&V(r,l,a),a.matrix!==void 0){const f=new Ee;f.fromArray(a.matrix),l.applyMatrix4(f)}else a.translation!==void 0&&l.position.fromArray(a.translation),a.rotation!==void 0&&l.quaternion.fromArray(a.rotation),a.scale!==void 0&&l.scale.fromArray(a.scale);return s.associations.has(l)||s.associations.set(l,{}),s.associations.get(l).nodes=e,l}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],s=this,a=new we;r.name&&(a.name=s.createUniqueName(r.name)),B(a,r),r.extensions&&V(n,a,r);const i=r.nodes||[],o=[];for(let c=0,u=i.length;c<u;c++)o.push(s.getDependency("node",i[c]));return Promise.all(o).then(function(c){for(let l=0,f=c.length;l<f;l++)a.add(c[l]);const u=l=>{const f=new Map;for(const[h,d]of s.associations)(h instanceof Xe||h instanceof It)&&f.set(h,d);return l.traverse(h=>{const d=s.associations.get(h);d!=null&&f.set(h,d)}),f};return s.associations=u(a),a})}_createAnimationTracks(e,n,r,s,a){const i=[],o=e.name?e.name:e.uuid,c=[];G[a.path]===G.weights?e.traverse(function(h){h.morphTargetInfluences&&c.push(h.name?h.name:h.uuid)}):c.push(o);let u;switch(G[a.path]){case G.weights:u=Ct;break;case G.rotation:u=Mt;break;case G.position:case G.scale:u=Lt;break;default:switch(r.itemSize){case 1:u=Ct;break;case 2:case 3:default:u=Lt;break}break}const l=s.interpolation!==void 0?g$[s.interpolation]:jn,f=this._getArrayFromAccessor(r);for(let h=0,d=c.length;h<d;h++){const p=new u(c[h]+"."+G[a.path],n.array,f,l);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),i.push(p)}return i}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=ct(n.constructor),s=new Float32Array(n.length);for(let a=0,i=n.length;a<i;a++)s[a]=n[a]*r;n=s}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const s=this instanceof Mt?p$:as;return new s(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function $$(t,e,n){const r=e.attributes,s=new Vs;if(r.POSITION!==void 0){const o=n.json.accessors[r.POSITION],c=o.min,u=o.max;if(c!==void 0&&u!==void 0){if(s.set(new q(c[0],c[1],c[2]),new q(u[0],u[1],u[2])),o.normalized){const l=ct(z[o.componentType]);s.min.multiplyScalar(l),s.max.multiplyScalar(l)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new q,c=new q;for(let u=0,l=a.length;u<l;u++){const f=a[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,p=h.max;if(d!==void 0&&p!==void 0){if(c.setX(Math.max(Math.abs(d[0]),Math.abs(p[0]))),c.setY(Math.max(Math.abs(d[1]),Math.abs(p[1]))),c.setZ(Math.max(Math.abs(d[2]),Math.abs(p[2]))),h.normalized){const v=ct(z[h.componentType]);c.multiplyScalar(v)}o.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(o)}t.boundingBox=s;const i=new Xs;s.getCenter(i.center),i.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=i}function Pn(t,e,n){const r=e.attributes,s=[];function a(i,o){return n.getDependency("accessor",i).then(function(c){t.setAttribute(o,c)})}for(const i in r){const o=ot[i]||i.toLowerCase();o in t.attributes||s.push(a(r[i],o))}if(e.indices!==void 0&&!t.index){const i=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});s.push(i)}return Ot.workingColorSpace!==L&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Ot.workingColorSpace}" not supported.`),B(t,e),$$(t,e,n),Promise.all(s).then(function(){return e.targets!==void 0?v$(t,e.targets,n):t})}const Je=new WeakMap;class w$ extends Dn{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,s){const a=new xe(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,i=>{this.parse(i,n,s)},r,s)}parse(e,n,r=()=>{}){this.decodeDracoFile(e,n,null,null,k).catch(r)}decodeDracoFile(e,n,r,s,a=L,i=()=>{}){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:a};return this.decodeGeometry(e,o).then(n).catch(i)}decodeGeometry(e,n){const r=JSON.stringify(n);if(Je.has(e)){const c=Je.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const a=this.workerNextTaskID++,i=e.byteLength,o=this._getWorker(a,i).then(c=>(s=c,new Promise((u,l)=>{s._callbacks[a]={resolve:u,reject:l},s.postMessage({type:"decode",id:a,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return o.catch(()=>!0).then(()=>{s&&a&&this._releaseTask(s,a)}),Je.set(e,{key:r,promise:o}),o}_createGeometry(e){const n=new Hn;e.index&&n.setIndex(new pe(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const s=e.attributes[r],a=s.name,i=s.array,o=s.itemSize,c=new pe(i,o);a==="color"&&(this._assignVertexColorSpace(c,s.vertexColorSpace),c.normalized=!(i instanceof Float32Array)),n.setAttribute(a,c)}return n}_assignVertexColorSpace(e,n){if(n!==k)return;const r=new U;for(let s=0,a=e.count;s<a;s++)r.fromBufferAttribute(e,s).convertSRGBToLinear(),e.setXYZ(s,r.r,r.g,r.b)}_loadLibrary(e,n){const r=new xe(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((s,a)=>{r.load(e,s,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const s=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=S$.toString(),i=["/* draco decoder */",s,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(a){const i=a.data;switch(i.type){case"decode":s._callbacks[i.id].resolve(i);break;case"error":s._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,a){return s._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function S$(){let t,e;onmessage=function(i){const o=i.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(l){t.onModuleLoaded=function(f){l({draco:f})},DracoDecoderModule(t)});break;case"decode":const c=o.buffer,u=o.taskConfig;e.then(l=>{const f=l.draco,h=new f.Decoder;try{const d=n(f,h,new Int8Array(c),u),p=d.attributes.map(v=>v.array.buffer);d.index&&p.push(d.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:d},p)}catch(d){console.error(d),self.postMessage({type:"error",id:o.id,error:d.message})}finally{f.destroy(h)}});break}};function n(i,o,c,u){const l=u.attributeIDs,f=u.attributeTypes;let h,d;const p=o.GetEncodedGeometryType(c);if(p===i.TRIANGULAR_MESH)h=new i.Mesh,d=o.DecodeArrayToMesh(c,c.byteLength,h);else if(p===i.POINT_CLOUD)h=new i.PointCloud,d=o.DecodeArrayToPointCloud(c,c.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const v={index:null,attributes:[]};for(const g in l){const m=self[f[g]];let y,b;if(u.useUniqueIDs)b=l[g],y=o.GetAttributeByUniqueId(h,b);else{if(b=o.GetAttributeId(h,i[l[g]]),b===-1)continue;y=o.GetAttribute(h,b)}const _=s(i,o,h,g,m,y);g==="color"&&(_.vertexColorSpace=u.vertexColorSpace),v.attributes.push(_)}return p===i.TRIANGULAR_MESH&&(v.index=r(i,o,h)),i.destroy(h),v}function r(i,o,c){const l=c.num_faces()*3,f=l*4,h=i._malloc(f);o.GetTrianglesUInt32Array(c,f,h);const d=new Uint32Array(i.HEAPF32.buffer,h,l).slice();return i._free(h),{array:d,itemSize:1}}function s(i,o,c,u,l,f){const h=f.num_components(),p=c.num_points()*h,v=p*l.BYTES_PER_ELEMENT,g=a(i,l),m=i._malloc(v);o.GetAttributeDataArrayForAllPoints(c,f,g,v,m);const y=new l(i.HEAPF32.buffer,m,p).slice();return i._free(m),{name:u,array:y,itemSize:h}}function a(i,o){switch(o){case Float32Array:return i.DT_FLOAT32;case Int8Array:return i.DT_INT8;case Int16Array:return i.DT_INT16;case Int32Array:return i.DT_INT32;case Uint8Array:return i.DT_UINT8;case Uint16Array:return i.DT_UINT16;case Uint32Array:return i.DT_UINT32}}}class x$ extends jb{initModel(){const e=new w$;e.setDecoderPath("/screen-frame-display/threejs/draco/gltf/"),e.setDecoderConfig({type:"js"}),e.preload();const n=new Kb;n.setDRACOLoader(e),n.load(this.options.modelUrl,r=>{r.scene.traverse(s=>{s.isMesh&&this.scene.add(s)})}),this.initEvents()}initEvents(){const e=new ut;let n="";window.addEventListener("keydown",r=>{n=r.key}),window.addEventListener("keyup",r=>{n=""}),window.addEventListener("mousemove",r=>{r.preventDefault(),n=="x"?this.scene.children.forEach(s=>{s.scale.x+=(r.clientX-e.x)/e.x}):n=="y"?this.scene.children.forEach(s=>{s.scale.y+=(r.clientY-e.y)/e.y}):n=="z"&&this.scene.children.forEach(s=>{s.scale.z+=(r.clientX-e.x)/e.x}),e.x=r.clientX,e.y=r.clientY})}}const E$={__name:"ScreenModel",props:{bgColor:{type:String,default:"#0f1423"},bgAlpha:{type:Number,default:0},lightColor:{type:String,default:"#ffffff"},lightStrength:{type:Number,default:1}},setup(t){const e=t,n=qs();return zs(()=>{new x$({container:n.value,bgColor:e.bgColor,bgAlpha:e.bgAlpha,lightStrength:e.lightStrength,center:[2,2,2],modelUrl:"/screen-frame-display/models/sofa/sofa.glb"}).run()}),(r,s)=>(Xn(),Wn("div",{ref_key:"modelContainer",ref:n,class:"screen-model"},null,512))}},R$=Vn(E$,[["__scopeId","data-v-7804be4a"]]),O$={class:"screen-layout"},I$={__name:"BigScreen4",setup(t){return(e,n)=>(Xn(),Wn("div",O$,[Ys(R$,{"light-strength":1})]))}},M$=Vn(I$,[["__scopeId","data-v-cd62de7c"]]);export{M$ as default};
